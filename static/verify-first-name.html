<!DOCTYPE html>
<html>
<head>
  <title>Verify First Name</title>
  <script src="app.js" type="module"></script>
    <script src="https://cdn.jsdelivr.net/npm/ipfs-http-client/dist/index.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/web3/dist/web3.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/web3@1.5.2/dist/web3.min.js"></script>

        <script src="https://cdn.jsdelivr.net/npm/ipfs-http-client"></script>
        <script src="https://unpkg.com/ipfsd-ctl/dist/index.min.js">
            

    window.addEventListener('load', function() {
    const web3 = new Web3(Web3.givenProvider || "ws://localhost:8545");
    

    //displayCertificates();
    // Use the web3 object here
  });
</script>
  <script src="./web3.min.js"></script>
  <script>
    // Set up web3 provider
    if (typeof web3 !== 'undefined') {
      web3 = new Web3(web3.currentProvider);
    } else {
      // If no provider is found, fallback to localhost
      web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));
    }
    
    // Set up contract instance
    var contractAddress = 'CONTRACT_ADDRESS';
    var contractABI = CONTRACT_ABI;
    //var contract = new web3.eth.Contract(contractABI, contractAddress);
    
    // Set up function to verify first name
    function verifyFirstName() {
      var userAddress = document.getElementById("user-address").value;
      var firstName = document.getElementById("first-name").value;
      
      // Call contract function to verify first name
      rcontract.methods.verifyFirstName(userAddress, firstName).send({from: web3.eth.defaultAccount})
      .on('transactionHash', function(hash){
        console.log("Transaction Hash: " + hash);
      })
      .on('receipt', function(receipt){
        console.log("Receipt: " + receipt);
        alert("First name verified!");
      })
      .on('error', function(error){
        console.error(error);
        alert("An error occurred while verifying first name.");
      });
    }
  </script>
</head>
<body>
  <button id ="ConnectButton">Connect</button>
	<div class="header">
		<h1>Set User Data</h1>
		<nav>
			<ul>
				<li><a href="index.html">Home</a></li>
				<li><a href="set-user-data.html">Verify Age</a></li>
				<li><a href="verify-first-name.html">Verify First Name</a></li>
				<li><a href="verify-last-name.html">Verify Last Name</a></li>
				<li><a href="request-verification.html">Request Verification</a></li>
			</ul>
		</nav>
	</div>
  <h1>Verify First Name</h1>
  <form>
    <label for="user-address">User Address:</label>
    <input type="text" id="user-address" name="user-address" required><br>
    <label for="first-name">First Name:</label>
    <input type="text" id="first-name" name="first-name" required><br>
    <button type="button" onclick="verifyFirstName()">Verify First Name</button>
  </form>
</body>
</html>
